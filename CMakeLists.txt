cmake_minimum_required (VERSION 2.8)
project (SPRING)

if (UNIX)
  message(STATUS "Setting GCC flags")
  set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -g")
  set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall")
  set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wextra")
  set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fopenmp")
else()
  message(FATAL_ERROR "Non Unix platforms not supported currently.")
endif()

message(STATUS "** CMAKE_CXX_FLAGS: ${CMAKE_CXX_FLAGS}")

set(BOOST_ROOT_DIR ${CMAKE_CURRENT_BINARY_DIR}/boost)
list(APPEND CMAKE_MODULE_PATH ${CMAKE_SOURCE_DIR}/cmake)
set(BOOST_REQUESTED_VERSION 1.67.0)
find_package(Boost COMPONENTS system filesystem)

set(spring "spring")
set(source_dir ${CMAKE_SOURCE_DIR}/src)
set(include_dir ${CMAKE_SOURCE_DIR}/src)
set(source_files ${source_files} ${source_dir}/test.cpp)
add_executable (${spring} ${source_files})
target_include_directories(${spring} PRIVATE ${include_dir})
target_include_directories(${spring} PRIVATE ${Boost_INCLUDE_DIR})
target_link_libraries(${spring} "-fopenmp")
target_link_libraries(${spring} ${Boost_LIBRARIES)
